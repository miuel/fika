<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fika Caf√© ‚òïÔ∏è</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!--
      Coffee Beans SVG Cred:
      https://thenounproject.com/search/?q=fish&i=589236
   -->

<!--<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 91 113.75" enable-background="new 0 0 91 91" xml:space="preserve"><g><path d="M77.974,41.687c-0.331-0.273-0.813-0.458-0.804-0.992c0.02-1.314-0.866-1.787-1.914-2.181   c-5.917-2.218-11.602-1.396-16.731,1.95C47.286,47.8,41.362,58.417,40.507,71.739c-0.333,5.2,1.09,10.06,4.905,13.909   c5.843,5.895,13.874,6.769,21.339,1.951c10.399-6.706,16.778-16.105,18.11-28.618c0.076-0.724,0.116-1.46,0.11-2.187   c-0.007-0.808-0.086-1.616-0.133-2.426C84.317,49.183,81.991,44.98,77.974,41.687z M70.304,48.394   c-1.045,0.913-1.803,2.181-2.571,3.367c-0.315,0.49-0.987,0.394-1.168,0.933c-0.542,1.614-1.465,3.003-2.472,4.357   c-0.901,1.212-1.706,2.543-2.366,3.854c-1.141,2.271-1.786,4.794-2.632,7.214c-0.146,0.418-0.451,0.918-0.338,1.268   c0.513,1.592-0.297,2.923-0.775,4.284c-1.399,3.984-3.628,7.407-7.18,9.834c-0.36,0.244-0.674,0.743-1.29,0.453   c0.121-0.45,0.512-0.626,0.801-0.887c0.936-0.846,1.745-1.775,2.343-2.904c1.363-2.573,2.215-5.331,2.619-8.175   c1.037-7.307,3.656-13.91,8.286-19.679c3.128-3.899,6.618-7.345,11.533-8.954c0.479-0.156,0.925-0.443,1.175,0.398   C73.599,44.398,72.208,46.735,70.304,48.394z"/><path d="M37.143,60.04c2.978-3.004,4.09-6.799,3.828-10.857c-0.667-10.402-5.292-18.69-14.064-24.417   c-4.004-2.61-8.444-3.252-13.061-1.521c-0.82,0.306-1.511,0.674-1.494,1.702c0.006,0.419-0.371,0.563-0.629,0.776   c-3.136,2.569-4.953,5.851-5.359,9.9c-0.037,0.631-0.1,1.262-0.104,1.894c-0.005,0.566,0.026,1.141,0.084,1.705   c1.042,9.77,6.021,17.107,14.139,22.344C26.313,65.325,32.581,64.643,37.143,60.04z M26.726,47.343   c0.087-0.272-0.152-0.66-0.266-0.99c-0.66-1.888-1.164-3.855-2.054-5.629c-0.513-1.022-1.142-2.063-1.846-3.008   c-0.787-1.059-1.508-2.141-1.932-3.402c-0.139-0.42-0.664-0.346-0.91-0.728c-0.6-0.926-1.192-1.917-2.009-2.626   c-1.486-1.295-2.571-3.122-4.654-3.621c0.193-0.657,0.542-0.433,0.916-0.312c3.836,1.255,6.561,3.947,9.004,6.991   c3.616,4.503,5.659,9.659,6.47,15.364c0.316,2.219,0.979,4.373,2.043,6.382c0.468,0.883,1.1,1.604,1.828,2.267   c0.228,0.203,0.532,0.34,0.625,0.692c-0.479,0.226-0.726-0.163-1.004-0.354c-2.775-1.896-4.514-4.567-5.606-7.678   C26.958,49.627,26.326,48.588,26.726,47.343z"/><path d="M62.914,3.094c-0.197-0.163-0.484-0.273-0.479-0.592c0.012-0.783-0.517-1.066-1.142-1.3   C57.77-0.12,54.382,0.37,51.322,2.364c-6.696,4.372-10.226,10.697-10.736,18.638c-0.199,3.1,0.65,5.995,2.923,8.289   c3.483,3.513,8.268,4.035,12.717,1.165c6.198-3.996,9.997-9.601,10.793-17.056c0.046-0.432,0.067-0.869,0.064-1.303   c-0.004-0.483-0.052-0.963-0.078-1.444C66.693,7.56,65.308,5.055,62.914,3.094z M58.344,7.09c-0.623,0.543-1.074,1.298-1.532,2.003   c-0.189,0.294-0.588,0.236-0.695,0.557c-0.325,0.963-0.873,1.791-1.478,2.598c-0.535,0.722-1.014,1.515-1.406,2.295   c-0.682,1.355-1.064,2.857-1.568,4.299c-0.087,0.251-0.271,0.546-0.203,0.757c0.305,0.948-0.178,1.739-0.462,2.553   c-0.833,2.375-2.161,4.414-4.277,5.861c-0.216,0.145-0.401,0.442-0.769,0.269c0.071-0.269,0.306-0.373,0.478-0.529   c0.555-0.505,1.039-1.055,1.396-1.729c0.812-1.533,1.318-3.176,1.56-4.871c0.619-4.356,2.179-8.29,4.938-11.73   c1.864-2.322,3.944-4.375,6.875-5.335c0.284-0.091,0.549-0.262,0.699,0.237C60.307,4.709,59.479,6.102,58.344,7.09z"/></g></svg>-->
  <video src="cafe.mp4" autoplay loop>  </video>
  <div class="wrapper">
    
    <h2>Fika Caf√©</h2>
    <p>A√±ade a la lista tu cafe preferido</p>
    <ul class="cafes">
      <li></li>
    </ul>
    <form class="add-items">
      <input type="text" name="item" placeholder="Item Name" required>
      <input type="submit" value="+ Add Item">
    </form>
  </div>

<script>
  const paises = [  {pais: "Brasil", bandera: "üáßüá∑" },
                    {pais: "Vietnam", bandera: "üáªüá≥"},
                    {pais: "Colombia", bandera: "üá®üá¥"},
                    {pais: "Indonesia",bandera: "üáÆüá©"},
                    {pais: "Etiop√≠a",bandera: "üá™üáπ"},
                    {pais: "India",  bandera: "üáÆüá≥"},
                    {pais: "Honduras", bandera: "üá≠üá≥"},
                    {pais: "Uganda", bandera: "üá∫üá¨"},
                    {pais: "M√©xico", bandera: "üá≤üáΩ"},
                    {pais: "Guatemala", bandera: "üá¨üáπ"},
                    {pais: "Per√∫", bandera: "üáµüá™"},
                    {pais: "Nicaragua", bandera: "üá≥üáÆ"},
                    {pais: "Costa de Marfil", bandera: "üá®üáÆ"},
                    {pais: "Costa Rica", bandera: "üá®üá∑"},
                    {pais: "Kenia", bandera: "üá∞üá™"},
                    {pais: "Pap√∫a Nueva Guinea", bandera: "üáµüá¨"},
                    {pais: "El Salvador", bandera: "üá∏üáª"},
                    {pais: "Ecuador", bandera: "üá™üá®"},
                    {pais: "Camer√∫n", bandera: "üá®üá≤" }              
                   ]
          
                //console.log(JSON.stringify(paises))

  const addItems = document.querySelector('.add-items');
  const itemsList = document.querySelector('.cafes');  
  const items = JSON.parse(localStorage.getItem('items')) || [];
  

  function handleSubmit(e) {
    e.preventDefault();
     const text = (this.querySelector('[name=item]')).value;
     const item = {
       text, 
       done: false
     };        
     // esta variable la creo para comparar si ya existe el cafe en items
     let alreadyExiste = [];
     alreadyExiste.push(item.text);
     findPais(alreadyExiste);
     
     // guardo en el array items el item que va metiendo el usuario en el input
    items.push(item);     
     populateList(items, itemsList);     
     localStorage.setItem('items', JSON.stringify(items));     
     //para limpiar el input
     this.reset();    
  }

  function findPais(alreadyExiste, iconList) {
    paises.map(function(p) {
          let n = p.pais.includes(alreadyExiste)  
            if(n != true) {
              console.log('no es pais productor')
              } else {
                console.log(p.bandera)
            }
          })          
  }

  function populateList(cafes = [], cafeList) {
    cafeList.innerHTML = cafes.map((cafe, i) => {
      return `
        <li>  
          <input type="checkbox" data-index=${i} id="item${i}" ${cafe.done ? 'checked' : ''}/>
          <label for="item${i}">${cafe.text}</label>
        </li>  
      `;
    }).join('');
  }

  function toggleDone(e) {
    if (!e.target.matches('input')) return; // skip this unless it's an input
    const el = e.target;
    const index = el.dataset.index;
    items[index].done = !items[index].done;
    localStorage.setItem('items', JSON.stringify(items));
    populateList(items, itemsList);
  }

  addItems.addEventListener('submit', handleSubmit); 
  itemsList.addEventListener('click', toggleDone);
  populateList(items, itemsList);
</script>
</body>
</html>

